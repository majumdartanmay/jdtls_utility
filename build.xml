<?xml version="1.0" encoding="UTF-8"?>
<project name="Setup JDTLS" default="init">

    <taskdef resource="net/sf/antcontrib/antlib.xml" />

    <property file="build.properties" description="Read properties from build.properties"/>
    <target name = "init">
        <antcall target = "download_file"/>
    </target>

    <target name="clean_directory">
        <echo message = "Checking if ${directory} exists or not"/>
        <if>
            <available file="${directory}" type="dir" />
            <then>
                <delete dir="${directory}" />
            </then>
        </if>    
        <else>
            <echo message = "${directory} does not exist. Proceeding ahead."/>
        </else>
    </target>

    <target name="download_file">
        <get src="${jdtls_download_link}" 
        dest="${internal_output_path_full}"/>
    </target>

</project>

